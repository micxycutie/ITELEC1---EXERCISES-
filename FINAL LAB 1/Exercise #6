//MainActivity.kt

package com.firstapp.mainactivity

import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import android.view.View
import android.widget.Button
import android.widget.ImageSwitcher
import android.widget.ImageView
import android.widget.ViewSwitcher

class MainActivity : AppCompatActivity() {

    private lateinit var previousBtn: Button
    private lateinit var nextBtn: Button
    private lateinit var imgSw: ImageSwitcher

    private val images = intArrayOf(R.drawable.bangkok, R.drawable.bangkok2)
    private var position = 0

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        // Initialize views
        previousBtn = findViewById(R.id.btnPrevious)
        nextBtn = findViewById(R.id.btnNext)
        imgSw = findViewById(R.id.imgSw)

        // Set image factory
        imgSw.setFactory {
            val imageView = ImageView(this)
            imageView.scaleType = ImageView.ScaleType.CENTER_CROP
            imageView.setImageResource(images[position])
            imageView.contentDescription = getString(R.string.image_switcher)
            imageView
        }

        // Animations
        imgSw.setInAnimation(this, android.R.anim.slide_in_left)
        imgSw.setOutAnimation(this, android.R.anim.slide_out_right)

        // Previous button logic
        previousBtn.setOnClickListener {
            if (position > 0) position-- else position = 0
            imgSw.setImageResource(images[position])
        }

        // Next button logic
        nextBtn.setOnClickListener {
            if (position < images.size - 1) position++ else position = images.size - 1
            imgSw.setImageResource(images[position])
        }
    }
}



//main_activity.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#FFFFFF"
    android:padding="16dp"
    android:gravity="center"
    android:theme="@style/Theme.AppCompat.Light.NoActionBar">

    <ImageSwitcher
        android:id="@+id/imgSw"
        android:layout_width="match_parent"
        android:layout_height="400dp"
        android:layout_marginBottom="24dp"
        android:contentDescription="@string/image_switcher"
        android:background="#F5F5F5" />

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center">

        <Button
            android:id="@+id/btnPrevious"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/previous"
            android:contentDescription="@string/previous_image"
            android:layout_marginEnd="24dp"
            android:textAllCaps="false"
            android:backgroundTint="#2196F3"
            android:textColor="#FFFFFF" />

        <Button
            android:id="@+id/btnNext"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/next"
            android:contentDescription="@string/next_image"
            android:textAllCaps="false"
            android:backgroundTint="#4CAF50"
            android:textColor="#FFFFFF" />

    </LinearLayout>
</LinearLayout>
